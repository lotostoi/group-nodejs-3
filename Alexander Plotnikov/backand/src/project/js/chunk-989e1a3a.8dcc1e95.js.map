{"version":3,"sources":["webpack:///./src/views/auth.vue?19d1","webpack:///./src/views/auth.vue","webpack:///./src/views/auth.vue?70ca"],"names":["class","for","error","type","name","id","placeholder","login","password","to","exact","active-class","validForm","disabled","toAuth","data","save","components","methods","setUser","getTasks","http","post","res","result","token","email","localStorage","setItem","user","$router","push","console","log","computed","this","render","__scopeId"],"mappings":"kHAAA,W,wICCOA,MAAM,Q,EACT,eAAoB,UAAhB,eAAW,G,GACTA,MAAM,Q,EAIV,eAAiD,SAA1CC,IAAI,cAAa,qBAAiB,G,EASzC,eAA2C,SAApCA,IAAI,iBAAgB,YAAQ,G,iBAwBhC,yC,4GAvCP,eAqDM,MArDN,EAqDM,CApDJ,EACA,eAkDO,OAlDP,EAkDO,CAjDL,eAEI,KAFDD,MAAK,CAAC,cAAsB,EAAAE,MAAK,cAAkB,+BAEtD,GACA,E,eACA,eAOE,SANAF,MAAM,QACNG,KAAK,OACLC,KAAK,QACLC,GAAG,aACHC,YAAY,2B,qDACH,EAAAC,MAAK,K,mBAAL,EAAAA,SAEX,E,eACA,eAOE,SANAP,MAAM,QACNG,KAAK,WACLC,KAAK,WACLC,GAAG,gBACHC,YAAY,iB,qDACH,EAAAE,SAAQ,K,mBAAR,EAAAA,YAYX,eAMC,GALEC,GAAI,sBACLT,MAAM,gBACNU,MAAA,GACAC,eAAa,U,YACZ,iBAAqC,C,YAKxC,eAOS,UANPR,KAAK,SACJH,MAAQ,EAAAY,UAAS,cACjBC,UAAW,EAAAD,UACX,QAAK,8CAAU,EAAAE,OAAA,qBAAM,eACvB,UAED,wB,4DAQS,GACbC,KAAM,iBAAO,CACXR,MAAO,GACPC,SAAU,GACVQ,MAAM,EACNd,OAAO,IAETe,WAAY,GACZC,QAAS,iCACJ,eAAW,CACZC,QAAS,eACTC,SAAU,oBAHP,IAKCN,OALC,WAKQ,iMAEKO,EAAA,KAAKC,KAAK,OAAQ,CAChCf,MAAO,EAAKA,MACZC,SAAU,EAAKA,SACfQ,KAAM,EAAKA,OALF,OAEPO,EAFO,OAOPA,EAAIR,KAAKS,QAAQ,EAGfD,EADFR,KAAQU,EAFS,EAETA,MAAOlB,EAFE,EAEFA,MAAOmB,EAFL,EAEKA,MAExBC,aAAaC,QAAQ,QAASH,GAC9B,EAAKvB,OAAQ,EACT2B,EAAO,CAAEJ,QAAOlB,QAAOmB,SAC3B,EAAKP,QAAQU,GACb,EAAKT,WACL,EAAKU,QAAQC,KAAK,MAElB,EAAK7B,OAAQ,EAlBJ,mDAqBX8B,QAAQC,IAAR,MArBW,8DAyBjBC,SAAU,CACRtB,UADQ,WAEN,MAAsB,KAAfuB,KAAK5B,OAAkC,KAAlB4B,KAAK3B,Y,UC/FvC,EAAO4B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"js/chunk-989e1a3a.8dcc1e95.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./auth.vue?vue&type=style&index=0&id=2d4eb476&lang=scss&scoped=true\"","<template>\r\n  <div class=\"cont\">\r\n    <h1>Авторизация</h1>\r\n    <form class=\"from\">\r\n      <p class=\"errorMessag\" :class=\"error ? 'active' : ''\">\r\n        Не верный логин или пароль\r\n      </p>\r\n      <label for=\"inputLogin\">Логин или email: </label>\r\n      <input\r\n        class=\"field\"\r\n        type=\"text\"\r\n        name=\"login\"\r\n        id=\"inputLogin\"\r\n        placeholder=\"Введите логин или пароль\"\r\n        v-model=\"login\"\r\n      />\r\n      <label for=\"inputPassword\">Пароль: </label>\r\n      <input\r\n        class=\"field\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        id=\"inputPassword\"\r\n        placeholder=\"Введите пароль\"\r\n        v-model=\"password\"\r\n      />\r\n <!--      <div class=\"save\">\r\n        <input\r\n          type=\"checkbox\"\r\n          name=\"save\"\r\n          id=\"inputCheckBox\"\r\n          checked\r\n          v-model=\"save\"\r\n        />\r\n        <label for=\"inputCheckBox\">Запомнить</label>\r\n      </div> -->\r\n      <router-link\r\n        :to=\"{ name: 'registration' }\"\r\n        class=\"to-registrate\"\r\n        exact\r\n        active-class=\"active\"\r\n        >Еще не зарегистрированны? Вам сюда...</router-link\r\n      >\r\n    <!--   <router-link :to=\"{}\" class=\"forget-password\" exact active-class=\"active\"\r\n        >Забыли пароль?</router-link\r\n      > -->\r\n      <button\r\n        type=\"submit\"\r\n        :class=\"!validForm ? 'disabled' : ''\"\r\n        :disabled=\"!validForm ? true : false\"\r\n        @click.prevent=\"toAuth\"\r\n      >\r\n        Войти\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from '@/api/http'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nexport default {\r\n  data: () => ({\r\n    login: '',\r\n    password: '',\r\n    save: true,\r\n    error: false,\r\n  }),\r\n  components: {},\r\n  methods: {\r\n    ...mapActions({\r\n      setUser: 'user/setUser',\r\n      getTasks: 'tasks/getTasks',\r\n    }),\r\n    async toAuth() {\r\n      try {\r\n        let res = await http.post('auth', {\r\n          login: this.login,\r\n          password: this.password,\r\n          save: this.save,\r\n        })\r\n        if (res.data.result) {\r\n          let {\r\n            data: { token, login, email },\r\n          } = res\r\n          localStorage.setItem('token', token)\r\n          this.error = false\r\n          let user = { token, login, email }\r\n          this.setUser(user)\r\n          this.getTasks()\r\n          this.$router.push('/')\r\n        } else {\r\n          this.error = true\r\n        }\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    validForm() {\r\n      return this.login !== '' && this.password !== '' ? true : false\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  display: flex;\r\n  width: 100%;\r\n  max-width: $baseWidth;\r\n  margin: 0 auto;\r\n  padding: 10px 0;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.errorMessag {\r\n  opacity: 0;\r\n  text-align: left;\r\n  color: red;\r\n}\r\n.errorMessag.active {\r\n  opacity: 1;\r\n}\r\nh1 {\r\n  text-align: left;\r\n  width: 320px;\r\n  margin: 30px 0 10px;\r\n  font-size: 1.5rem;\r\n}\r\n.from {\r\n  margin-top: 2vh;\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\nlabel {\r\n  margin: 10px 0;\r\n  width: 300px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n}\r\ninput.field {\r\n  width: 300px;\r\n  height: 50px;\r\n  padding: 0 10px;\r\n  outline: none;\r\n  font-size: 0.9rem;\r\n  border: 1px solid rgba(128, 128, 128, 0.89);\r\n  border-radius: 3px;\r\n  @include grayShadow;\r\n  box-sizing: border-box;\r\n  &:focus {\r\n    background-color: $focusColor;\r\n  }\r\n  @include placeholder {\r\n    font-size: 0.9rem;\r\n    font-weight: 300;\r\n  }\r\n}\r\n.save {\r\n  margin: 10px 0;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  & input {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 10px;\r\n    border-radius: 5px;\r\n    border: 1px solid gray;\r\n    &:checked {\r\n      position: relative;\r\n      &::before {\r\n        position: absolute;\r\n        content: '\\2714';\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        top: 0;\r\n        left: 0;\r\n        background-color: $baseColor;\r\n        width: 20px;\r\n        height: 20px;\r\n        font-size: 1rem;\r\n        color: $darkBaseFont;\r\n        border-radius: 2px;\r\n        border: 1px solid gray;\r\n        @include grayShadow;\r\n      }\r\n    }\r\n  }\r\n  & label {\r\n    font-size: 0.8rem;\r\n    width: auto;\r\n  }\r\n}\r\n.to-registrate,\r\n.forget-password {\r\n  margin: 20px 0 10px;\r\n  text-align: left;\r\n  font-size: 0.8rem;\r\n  color: $darkBaseFont;\r\n  &:hover {\r\n    color: $darkHoverFont;\r\n  }\r\n  &:active {\r\n    color: $darkActiveFont;\r\n  }\r\n}\r\nbutton {\r\n  width: 300px;\r\n  border-radius: 2px;\r\n  background-color: $baseColor;\r\n  box-sizing: border-box;\r\n  padding: 0 10px;\r\n  height: 50px;\r\n  border: none;\r\n  outline: none;\r\n  display: flex;\r\n  font-size: 1.2rem;\r\n  align-items: center;\r\n  color: $lightBaseFont;\r\n  justify-content: center;\r\n  margin: 10px 0;\r\n  @include grayShadow;\r\n  &:hover {\r\n    background-color: $baseBGC;\r\n    color: $lightBaseFont;\r\n  }\r\n  &:active {\r\n    transform: scale(0.99);\r\n  }\r\n}\r\nbutton.disabled {\r\n  width: 300px;\r\n  border-radius: 2px;\r\n  background-color: $disabledColor;\r\n  box-sizing: border-box;\r\n  padding: 0 10px;\r\n  height: 50px;\r\n  border: none;\r\n  outline: none;\r\n  display: flex;\r\n  font-size: 1rem;\r\n  align-items: center;\r\n  color: $lightBaseFont;\r\n  justify-content: center;\r\n  cursor: not-allowed;\r\n  margin: 10px 0;\r\n  @include grayShadow;\r\n  &:hover {\r\n    background-color: $disabledColor;\r\n    color: $lightBaseFont;\r\n  }\r\n  &:active {\r\n    transform: scale(1);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./auth.vue?vue&type=template&id=2d4eb476&scoped=true&bindings={\\\"toAuth\\\":\\\"options\\\",\\\"validForm\\\":\\\"options\\\"}\"\nimport script from \"./auth.vue?vue&type=script&lang=js\"\nexport * from \"./auth.vue?vue&type=script&lang=js\"\n\nimport \"./auth.vue?vue&type=style&index=0&id=2d4eb476&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2d4eb476\"\n\nexport default script"],"sourceRoot":""}